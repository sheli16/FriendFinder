<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>friend finder survy</title>

    <!-- Bootstrap core CSS -->
   <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<!-- DC bnackground Image -->
<style type="text/css">
body { background-image:url('http://cdn.dcodes.net/2/bg_images/light/l15.png'); }

</style>
<!-- DC Page Header CSS -->
<link type="text/css" rel="stylesheet" href="http://cdn.dcodes.net/2/headers/css/dc_headers.css" />
<!-- DC Page Header JS -->
<script type="text/javascript" src="http://cdn.dcodes.net/2/headers/js/dc_headers.js"></script>
<!-- DC Table Styles II CSS -->
<link type="text/css" rel="stylesheet" href="http://cdn.dcodes.net/2/tables2/css/dc_tables2.css" />
  </head>

  <body>
  <!-- DC Page Header Start -->
  <div class="pattern">
    <h1><span></span>Survey time! </h1>
  </div>
<!-- DC Page Header End -->
<!-- Stack the columns on mobile by making one full-width and the other half-width -->
<div class="row">
  <div class="col-xs-8 col-md-8">
<form class="form-horizontal">
  <div class="form-group">
    <label for="inputName" class="col-sm-2 control-label">Name</label>
    <div class="col-sm-10">
      <input type="name" class="form-control" id="inputName" placeholder="Name">
    </div>
  </div>
  <div class="form-group">
    <label for="inputPictureLink" class="col-sm-2 control-label">Picture Link</label>
    <div class="col-sm-10">
      <input type="picture" class="form-control" id="inputPictureLink" placeholder="Picture Link">
    </div>
  </div>
   
  
</form>


<!-- Table Div -->
<div class="row">
<table class="table table-striped">
  <tr> 
      <td> <form class= "Q1">
        <div>Red is the best color</div>
          <label class="radio-inline"><input type="radio" name="optradio">1</label>
          <label class="radio-inline"><input type="radio" name="optradio">2</label>
          <label class="radio-inline"><input type="radio" name="optradio">3</label>
          <label class="radio-inline"><input type="radio" name="optradio">4</label>
          <label class="radio-inline"><input type="radio" name="optradio">5</label></form>
  </tr>

  <tr>
    <td> <form class= "Q2">
      <div>You love to Polka dancing</div>
          <label class="radio-inline"><input type="radio" name="optradio">1</label>
          <label class="radio-inline"><input type="radio" name="optradio">2</label>
          <label class="radio-inline"><input type="radio" name="optradio">3</label>
          <label class="radio-inline"><input type="radio" name="optradio">4</label>
          <label class="radio-inline"><input type="radio" name="optradio">5</label></form>
  </tr>
  
  <tr>
    <td> <form class= "Q3">
      <div>You think the Sound of Music is one of the best movies ever!</div>
          <label class="radio-inline"><input type="radio" name="optradio">1</label>
          <label class="radio-inline"><input type="radio" name="optradio">2</label>
          <label class="radio-inline"><input type="radio" name="optradio">3</label>
          <label class="radio-inline"><input type="radio" name="optradio">4</label>
          <label class="radio-inline"><input type="radio" name="optradio">5</label></form>
  </tr> 
    
  <tr>
    <td> <form class= "Q4">
      <div>Money is more important to you than anything else</div>
          <label class="radio-inline"><input type="radio" name="optradio">1</label>
          <label class="radio-inline"><input type="radio" name="optradio">2</label>
          <label class="radio-inline"><input type="radio" name="optradio">3</label>
          <label class="radio-inline"><input type="radio" name="optradio">4</label>
          <label class="radio-inline"><input type="radio" name="optradio">5</label></form>
  </tr>
  
  <tr>
    <td> <form class= "Q5">
      <div>You love to tell Jokes</div>
          <label class="radio-inline"><input type="radio" name="optradio">1</label>
          <label class="radio-inline"><input type="radio" name="optradio">2</label>
          <label class="radio-inline"><input type="radio" name="optradio">3</label>
          <label class="radio-inline"><input type="radio" name="optradio">4</label>
          <label class="radio-inline"><input type="radio" name="optradio">5</label></form>
  </tr>
  
  <tr>
    <td> <form class= "Q6">
      <div>Camping is great, as long as there is air conditioning</div>
          <label class="radio-inline"><input type="radio" name="optradio">1</label>
          <label class="radio-inline"><input type="radio" name="optradio">2</label>
          <label class="radio-inline"><input type="radio" name="optradio">3</label>
          <label class="radio-inline"><input type="radio" name="optradio">4</label>
          <label class="radio-inline"><input type="radio" name="optradio">5</label></form>
  </tr>
  <tr> 
      <td> <form class= "Q7">
        <div>Giving to charity is a good thing</div>
          <label class="radio-inline"><input type="radio" name="optradio">1</label>
          <label class="radio-inline"><input type="radio" name="optradio">2</label>
          <label class="radio-inline"><input type="radio" name="optradio">3</label>
          <label class="radio-inline"><input type="radio" name="optradio">4</label>
          <label class="radio-inline"><input type="radio" name="optradio">5</label></form>
  </tr>

  <tr>
    <td> <form class= "Q8">
      <div>Bob Marley made some good music </div>
          <label class="radio-inline"><input type="radio" name="optradio">1</label>
          <label class="radio-inline"><input type="radio" name="optradio">2</label>
          <label class="radio-inline"><input type="radio" name="optradio">3</label>
          <label class="radio-inline"><input type="radio" name="optradio">4</label>
          <label class="radio-inline"><input type="radio" name="optradio">5</label></form>
  </tr>
  
  <tr>
    <td> <form class= "Q9">
        <div>Marriage shouole be a term contract</div>
          <label class="radio-inline"><input type="radio" name="optradio">1</label>
          <label class="radio-inline"><input type="radio" name="optradio">2</label>
          <label class="radio-inline"><input type="radio" name="optradio">3</label>
          <label class="radio-inline"><input type="radio" name="optradio">4</label>
          <label class="radio-inline"><input type="radio" name="optradio">5</label></form>
  </tr> 
    
  <tr>
    <td> <form class= "Q10">
      <div>Children are for other people to have</div>
          <label class="radio-inline"><input type="radio" name="optradio">1</label>
          <label class="radio-inline"><input type="radio" name="optradio">2</label>
          <label class="radio-inline"><input type="radio" name="optradio">3</label>
          <label class="radio-inline"><input type="radio" name="optradio">4</label>
          <label class="radio-inline"><input type="radio" name="optradio">5</label></form>
    </td>
  </tr>

  <tr>
     
      <td><input class="btn btn-default" type="submit" value="Submit">
       <!-- Large modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bs-example-modal-lg">Large modal</button>

<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      ...
    </div>
  </div>
</div>

</td>
  </tr>
 
 </table>
</div>

  
</div>


<!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>

</body>

  </html>



  <!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">

  // In this code below we create the Front-end Javascript which "POSTS" our form data to our express server.
  // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
  // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
  // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file 

  $(".submit").on("click", function(){
    
    // Here we grab the form elements
    var newFriend = {
      Name: $('#inputName').val().trim(),
      photoURL: $('#inputPictureLink').val().trim(),
       scores:[
            $('.Q1').val().trim(),
            $('.Q2').val().trim(),
            $('.Q3').val().trim(),
            $('.Q4').val().trim(),
            $('.Q5').val().trim(),
            $('.Q6').val().trim(),
            $('.Q7').val().trim(),
            $('.Q8').val().trim(),
            $('.Q9').val().trim(),
            $('.Q10').val().trim(),
            ]
          };

    console.log(newFriend);

    // This line is the magic. It's very similar to the standard ajax function we used. 
    // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
    // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
    // depending on if a tables is available or not. 

    // Here we get the location of the root page. 
    // We use this instead of explicitly saying the URL is localhost:3001 because the url will change when we deploy.
    var currentURL = window.location.origin;

      $.post(currentURL + "/api/api-routes", newFriend,
      function(data){

        // If a table is available... tell user they are booked.
        for (var i =0; i <data.length; i++) data == true){
          alert("")
        }

        // If a table is available... tell user they on the waiting list.
        if(data == false){
          alert("")
        }

        // Clear the form when submitting
        $('#reserve_name').val("");
      $('#reserve_phone').val("");
      $('#reserve_email').val("");
      $('#reserve_uniqueID').val("");
 
            $('#inputName').val("")
            $('#inputPictureLink').val("")
            $('.Q1').val("")
            $('.Q2').val("")
            $('.Q3').val("")
            $('.Q4').val("")
            $('.Q5').val("")
            $('.Q6').val("")
            $('.Q7').val("")
            $('.Q8').val("")
            $('.Q9').val("")
            $('.Q10').val("")

      });

return false;

});

</script>